# This is a project definition file, a required component if you intend to use Snowflake CLI in a project directory such as this template.
definition_version: 2
entities:
    pkg:
        type: application package
        identifier: <% fn.concat_ids('penguin_app_package', ctx.env.suffix) %>
        artifacts:
            - src: app/*
              dest: ./
            - src: src/module-ui/src/*
              dest: streamlit/
              processors:
                  - templates
        manifest: app/manifest.yml
        meta:
            post_deploy:
                - sql_script: scripts/any-provider-setup.sql
                - sql_script: scripts/shared-content.sql

    app:
        type: application
        from:
            target: pkg
        identifier: <% fn.concat_ids('penguin_app', ctx.env.suffix) %>

env:
    suffix:
        <% fn.concat_ids('_', fn.sanitize_id(fn.get_username('unknown_user')) |
        lower) %>
